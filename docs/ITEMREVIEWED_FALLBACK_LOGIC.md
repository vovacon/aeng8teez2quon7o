# –õ–æ–≥–∏–∫–∞ fallback –¥–ª—è itemReviewed –≤ –º–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–µ Review

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

### –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ (itemReviewed.name):
1. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1**: `@post.review_item_name()` 
   - `order_products.title` (—Ç–æ—á–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–∑ –∑–∞–∫–∞–∑–∞)
   - –ò–ª–∏ `products.header` (—á–µ—Ä–µ–∑ product_id)
2. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2**: `prdct.header` (–∏–∑ json_order —á–µ—Ä–µ–∑ products)
3. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3**: `cmplct_header` (–∏–∑ json_order —á–µ—Ä–µ–∑ complects)

### –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ (itemReviewed.image):
1. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1**: `@post.review_item_image()` 
   - `product.thumb_image(true)` (—á–µ—Ä–µ–∑ product_id –∏–∑ order_products)
2. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2**: `prdct.thumb_image(true)` (–∏–∑ json_order)
3. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3**: `'/images/default-product.jpg'` (—Å—Ç–∞—Ç–∏—á–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ)

## –ö–æ–¥ –≤ —à–∞–±–ª–æ–Ω–µ:

```erb
"itemReviewed": {
  "@type": "Product",
  "name": "<%=begin; @post.review_item_name || (prdct ? prdct.header : cmplct_header); rescue; prdct ? prdct.header : cmplct_header; end%>",
  "image": "<%=begin; @post.review_item_image || (prdct ? prdct.thumb_image(true) : '/images/default-product.jpg'); rescue; prdct ? prdct.thumb_image(true) : '/images/default-product.jpg'; end%>"
}
```

## –°—Ü–µ–Ω–∞—Ä–∏–∏ —Ä–∞–±–æ—Ç—ã:

### ‚úÖ –ò–¥–µ–∞–ª—å–Ω—ã–π —Å–ª—É—á–∞–π:
- –ï—Å—Ç—å `order_products_base_id`
- –ù–∞–π–¥–µ–Ω–∞ –∑–∞–ø–∏—Å—å –≤ `order_products` 
- –ï—Å—Ç—å `product_id` –∏ –Ω–∞–π–¥–µ–Ω `Product`
- –†–µ–∑—É–ª—å—Ç–∞—Ç: —Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –∑–∞–∫–∞–∑–∞

### ‚úÖ –ß–∞—Å—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
- –ï—Å—Ç—å `order_products_base_id`
- –ù–∞–π–¥–µ–Ω–∞ –∑–∞–ø–∏—Å—å –≤ `order_products`
- –ù–µ—Ç `product_id` –∏–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω `Product`
- –†–µ–∑—É–ª—å—Ç–∞—Ç: –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–∑ `order_products.title`, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑ fallback

### ‚úÖ –ù–µ—Ç —Å–≤—è–∑–∏ —Å –∑–∞–∫–∞–∑–æ–º:
- –ù–µ—Ç `order_products_base_id`
- –ò–ª–∏ –Ω–µ—Ç –∑–∞–ø–∏—Å–∏ –≤ `order_products`
- –†–µ–∑—É–ª—å—Ç–∞—Ç: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞ —á–µ—Ä–µ–∑ `json_order`

### ‚úÖ –û—à–∏–±–∫–∏:
- –õ—é–±—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤ –Ω–æ–≤—ã—Ö –º–µ—Ç–æ–¥–∞—Ö
- –†–µ–∑—É–ª—å—Ç–∞—Ç: –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ fallback

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏:

üéØ **–¢–æ—á–Ω–æ—Å—Ç—å**: –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –∑–∞–∫–∞–∑–æ–≤ –∫–æ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–æ  
üîÑ **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –ø–æ–ª–Ω—ã–π fallback –∫ —Å—Ç–∞—Ä–æ–π —Å–∏—Å—Ç–µ–º–µ  
üõ°Ô∏è **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –≤–∏–¥–æ–≤ –æ—à–∏–±–æ–∫  
üìä **–ì–∏–±–∫–æ—Å—Ç—å**: –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö
