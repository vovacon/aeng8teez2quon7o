# –ò—Ç–æ–≥–æ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–∏ Schema.org –¥–ª—è smiles

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. –£–¥–∞–ª–µ–Ω –∞–¥–º–∏–Ω—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –£–±—Ä–∞–Ω —Ä–∞–∑–¥–µ–ª "–ú–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–∞ Schema.org (–¥–ª—è smiles)" 
- –£–¥–∞–ª–µ–Ω—ã –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –ê–¥–º–∏–Ω–∫–∞ —Å—Ç–∞–ª–∞ —á–∏—â–µ

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –º–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–∏ Review
**–ë—ã–ª–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
- –ú–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∞—Å—å –≤—Å–µ–≥–¥–∞
- `reviewBody` –±—Ä–∞–ª–æ—Å—å –∏–∑ –ø–æ–ª—è `h2` –≤ SEO –¥–∞–Ω–Ω—ã—Ö
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å —Ö–∞—Ä–¥–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ fallback –∑–Ω–∞—á–µ–Ω–∏—è

**–°—Ç–∞–ª–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
- –ú–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è **—Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è**
- `reviewBody` –±–µ—Ä–µ—Ç—Å—è –∏–∑ **—Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è** (`comments.body`)  
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å–≤—è–∑—å: `smile.order_eight_digit_id` ‚Üí `comments.order_eight_digit_id`

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –ú–æ–¥–µ–ª—å Smile (–Ω–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã):
```ruby
def related_comment
  Comment.find_by_order_eight_digit_id(order_eight_digit_id)
end

def has_review_comment?
  comment = related_comment
  comment && comment.body.present?
end
```

### –®–∞–±–ª–æ–Ω smiles/show.erb:
```erb
<% if @post.has_review_comment? %>
  <script type="application/ld+json">
  {
    "@type": "Review",
    "reviewBody": "<%=comment.body%>",  # –†–µ–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
    "author": {"name": "<%=comment.name || @post.customer_name%>"}
  }
  </script>
<% end %>
```

## üìã –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–º–µ—Ä–∞ –∑–∞–∫–∞–∑–∞** –≤ `smile.order_eight_digit_id`
2. **–ü–æ–∏—Å–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è** –ø–æ `comments.order_eight_digit_id`  
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ç–µ–∫—Å—Ç–∞** –≤ `comment.body`
4. **–ü–æ–∫–∞–∑ –º–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–∏** —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –Ω–∞–π–¥–µ–Ω –∏ –Ω–µ –ø—É—Å—Ç–æ–π

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

- üéØ **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞** - Review schema —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –æ—Ç–∑—ã–≤–∞
- üìù **–†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–µ–∫—Å—Ç –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è  
- üöÄ **–ß–∏—Å—Ç—ã–π –∫–æ–¥** - —É–±—Ä–∞–Ω—ã –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –∏ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- üîó **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–≤—è–∑–∏** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–≤—è–∑—å —á–µ—Ä–µ–∑ –Ω–æ–º–µ—Ä–∞ –∑–∞–∫–∞–∑–æ–≤
