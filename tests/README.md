# üß™ –¢–µ—Å—Ç—ã Rozario Flowers

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
tests/
‚îú‚îÄ‚îÄ unit/           # –ú–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã (–∏—Å–ø–æ–ª—å–∑—É—é—Ç Minitest)
‚îú‚îÄ‚îÄ integration/     # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ ui/              # UI —Ç–µ—Å—Ç—ã (HTML + JavaScript)
‚îú‚îÄ‚îÄ utils/           # –£—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
‚îú‚îÄ‚îÄ archive/         # –ê—Ä—Ö–∏–≤–Ω—ã–µ/–¥–µ–º–æ —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ reports/         # –û—Ç—á–µ—Ç—ã —Ç–µ—Å—Ç–æ–≤ (JUnit XML)
‚îî‚îÄ‚îÄ test_runner.rb   # –û—Å–Ω–æ–≤–Ω–æ–π —Ä–∞–Ω–Ω–µ—Ä
```

## üöÄ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

### –í—Å–µ —Ç–µ—Å—Ç—ã
```bash
cd tests
./run_unit_tests.sh
./run_integration_tests.sh  # –¢—Ä–µ–±—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –ë–î
```

### –¢–æ–ª—å–∫–æ unit —Ç–µ—Å—Ç—ã (–±–µ–∑ –ë–î)
```bash
cd tests
./run_unit_tests.sh
```

### –¢–æ–ª—å–∫–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
```bash
cd tests
./run_integration_tests.sh
```

### –û—Ç–¥–µ–ª—å–Ω—ã–π —Ç–µ—Å—Ç
```bash
ruby tests/unit/schema_helper_test.rb
```

## üìã –ú–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã (unit/)

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –¢–µ—Å—Ç–æ–≤ |
|------|-----------|--------|----------|
| `schema_helper_test.rb` | –¢–µ—Å—Ç—ã SEO Schema.org —Ö–µ–ª–ø–µ—Ä–æ–≤ | ‚úÖ –ü—Ä–æ—Ö–æ–¥—è—Ç | 15 —Ç–µ—Å—Ç–æ–≤ |
| `faq_schema_test.rb` | –¢–µ—Å—Ç—ã FAQ Schema.org —Ä–∞–∑–º–µ—Ç–∫–∏ | ‚úÖ –ü—Ä–æ—Ö–æ–¥—è—Ç | 11 —Ç–µ—Å—Ç–æ–≤ |
| `smile_products_data_test.rb` | –¢–µ—Å—Ç—ã –ª–æ–≥–∏–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –≤ smiles | ‚úÖ –ü—Ä–æ—Ö–æ–¥—è—Ç | 7 —Ç–µ—Å—Ç–æ–≤ |
| `smile_multiple_comments_test.rb` | –¢–µ—Å—Ç—ã –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ—Ç–∑—ã–≤–æ–≤ –¥–ª—è Smiles | ‚úÖ –ù–æ–≤—ã–π | 12 —Ç–µ—Å—Ç–æ–≤ |
| `smile_aggregated_schema_test.rb` | –¢–µ—Å—Ç—ã –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–π Product + Reviews —Å—Ö–µ–º—ã | ‚úÖ –ù–æ–≤—ã–π | 10 —Ç–µ—Å—Ç–æ–≤ |
| `smile_admin_functionality_test.rb` | –¢–µ—Å—Ç—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏ Smiles | ‚úÖ –ù–æ–≤—ã–π | 15 —Ç–µ—Å—Ç–æ–≤ |
| `ci_improvements_test.rb` | –¢–µ—Å—Ç—ã —É–ª—É—á—à–µ–Ω–∏–π CI/CD –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ | ‚úÖ –ù–æ–≤—ã–π | 11 —Ç–µ—Å—Ç–æ–≤ |

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (integration/)

> ‚ö†Ô∏è **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ:** –¢—Ä–µ–±—É—é—Ç –¥–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö MySQL

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|------|-----------|--------|
| `test_basic_models.rb` | –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –ë–î | üîÑ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω, —Ç—Ä–µ–±—É–µ—Ç –ë–î |
| `test_comments_orders.rb` | –°–≤—è–∑—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ —Å –∑–∞–∫–∞–∑–∞–º–∏ | üîÑ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω, —Ç—Ä–µ–±—É–µ—Ç –ë–î |
| `test_bit_field_published.rb` | –†–∞–±–æ—Ç–∞ —Å BIT –ø–æ–ª—è–º–∏ published | üîÑ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω, —Ç—Ä–µ–±—É–µ—Ç –ë–î |
| `test_smile_published_functionality.rb` | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤ published | üîÑ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –ë–î |

## üé® UI —Ç–µ—Å—Ç—ã (ui/)

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ | –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å |
|------|-----------|------------|
| `star_rating_ui_test.html` | –¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã —Ä–µ–π—Ç–∏–Ω–≥–∞ –∑–≤—ë–∑–¥ | –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ |
| `email_form_demo.html` | –î–µ–º–æ email —Ñ–æ—Ä–º—ã | –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ |
| `test_admin_smiles_autofill.rb` | UI —Ç–µ—Å—Ç –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è SEO | –¢—Ä–µ–±—É–µ—Ç Capybara |
| `run_ui_tests.rb` | –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ UI —Ç–µ—Å—Ç–æ–≤ | `ruby ui/run_ui_tests.rb` |

## üîß –£—Ç–∏–ª–∏—Ç—ã (utils/)

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|-----------|------------|
| `extract_order_numbers.rb` | –ü–æ–∏—Å–∫ –Ω–æ–º–µ—Ä–æ–≤ –∑–∞–∫–∞–∑–æ–≤ | –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö |
| `link_smiles_to_orders.rb` | –°–≤—è–∑—ã–≤–∞–Ω–∏–µ smiles —Å –∑–∞–∫–∞–∑–∞–º–∏ | –ú–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ |

## üìà –û—Ç—á—ë—Ç—ã

–û—Ç—á—ë—Ç—ã —Ç–µ—Å—Ç–æ–≤ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ø–∞–ø–∫–µ `tests/reports/` –≤ —Ñ–æ—Ä–º–∞—Ç–µ JUnit XML.

## üõ†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### Unit —Ç–µ—Å—Ç—ã
- Ruby 2.7+ 
- `gem install minitest json`
- –ù–µ —Ç—Ä–µ–±—É—é—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –ù–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –ª–æ–∫–∞–ª—å–Ω—ã—Ö –≥–µ–º–æ–≤ (multi_captcha)

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- –ü–æ–ª–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞ (`bundle install`)
- –î–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö MySQL
- –õ–æ–∫–∞–ª—å–Ω—ã–µ –≥–µ–º—ã (`multi_captcha`)

### CI/CD 
–û–∫—Ä—É–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `test_setup.rb`

## üìù –ü—Ä–∞–≤–∏–ª–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤

### Unit —Ç–µ—Å—Ç—ã
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Minitest
- –ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞: `*_test.rb`
- –ö–ª–∞—Å—Å: `class SomeTest < Minitest::Test`
- –ú–µ—Ç–æ–¥—ã: `def test_something`

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- –ú–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- –¢–µ—Å—Ç–∏—Ä—É—é—Ç —Å–≤—è–∑–∏ –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏
- –ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞: `test_*.rb`

### UI —Ç–µ—Å—Ç—ã
- HTML —Ñ–∞–π–ª—ã —Å JavaScript
- –û—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –ú–æ–≥—É—Ç –±—ã—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ Capybara

## üîÑ CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

‚úÖ **–ù–∞—Å—Ç—Ä–æ–µ–Ω–æ:** GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–∏ push/PR.

**CI/CD –ø–∞–π–ø–ª–∞–π–Ω:**
- üîí **–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** (–ø–æ–∏—Å–∫ —Å–µ–∫—Ä–µ—Ç–æ–≤, IP-–∞–¥—Ä–µ—Å–æ–≤)
- üìù **–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞** (—Å–∏–Ω—Ç–∞–∫—Å–∏—Å Ruby, HAML, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- üõ†Ô∏è **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** (–ø—Ä–æ–≤–µ—Ä–∫–∞ Gemfile, —É—è–∑–≤–∏–º–æ—Å—Ç–∏)
- üß™ **Unit —Ç–µ—Å—Ç—ã** (81 —Ç–µ—Å—Ç: Schema + FAQ + Smile Products + Multiple Comments + Aggregated Schema + Admin + CI)
- üîç **SQL-–∑–∞–ø—Ä–æ—Å—ã Smile** (–ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏)
- üöÄ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** (–∞–Ω–∞–ª–∏–∑ —Ä–∞–∑–º–µ—Ä–∞, —Å–ª–æ–∂–Ω–æ—Å—Ç–∏)
- ‚ôø **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å** (–ø—Ä–æ–≤–µ—Ä–∫–∞ alt, —Å–µ–º–∞–Ω—Ç–∏–∫–∞)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `test_setup.rb` –¥–ª—è –æ–±—Ö–æ–¥–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- Mock'–∏—Ç `multi_captcha` –≥–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç `bundle install` –¥–ª—è unit —Ç–µ—Å—Ç–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç—á—ë—Ç–æ–≤ –≤ artifacts

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:** –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 02:00 UTC) —Å MySQL.


## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –û–±—Ö–æ–¥ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
–ü—Ä–æ–±–ª–µ–º–∞: –≥–µ–º `multi_captcha` —É–∫–∞–∑–∞–Ω —Å `path: '/srv/gems/multi_captcha'`

–†–µ—à–µ–Ω–∏–µ: `test_setup.rb` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç mock:
```ruby
begin
  require 'multi_captcha'
rescue LoadError
  module MultiCaptcha
    # Mock —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
  end
end
```

### –ó–∞–ø—É—Å–∫ –±–µ–∑ bundler
Unit —Ç–µ—Å—Ç—ã –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ `bundle exec`:
```bash
gem install minitest json
ruby tests/unit/schema_helper_test.rb
```
